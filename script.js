const themeToggle=document.getElementById("themeToggle"),themeIcon=document.getElementById("themeIcon"),htmlElement=document.documentElement,currentTheme=localStorage.getItem("theme")||"light";function updateThemeIcon(e){themeIcon.textContent="light"===e?"+":"O"}htmlElement.setAttribute("data-theme",currentTheme),updateThemeIcon(currentTheme),themeToggle.addEventListener("click",()=>{let e=htmlElement.getAttribute("data-theme"),t="light"===e?"dark":"light";htmlElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),updateThemeIcon(t)});const menuToggle=document.getElementById("menuToggle"),sidebar=document.getElementById("sidebar"),sidebarOverlay=document.getElementById("sidebarOverlay");function toggleSidebar(){sidebar.classList.toggle("open"),sidebarOverlay.classList.toggle("active"),sidebar.classList.contains("open")?document.body.style.overflow="hidden":document.body.style.overflow=""}menuToggle&&menuToggle.addEventListener("click",toggleSidebar),sidebarOverlay&&sidebarOverlay.addEventListener("click",toggleSidebar);const navLinks=document.querySelectorAll(".nav-btn"),contentSections=document.querySelectorAll(".tab-content");function initScrollAnimations(){let e=document.querySelectorAll("h2, h3, .code-container, .note, .warning, .intro-text");e.forEach(e=>e.classList.add("reveal"));let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("active")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>t.observe(e))}navLinks.forEach(e=>{e.addEventListener("click",function(){window.innerWidth<=768&&void 0!==sidebar&&sidebar.classList.contains("open")&&toggleSidebar(),navLinks.forEach(e=>e.classList.remove("active")),this.classList.add("active");let e=this.getAttribute("data-target");contentSections.forEach(e=>{e.classList.remove("active")});let t=document.getElementById(e);t&&(t.classList.add("active"),window.scrollTo({top:0,behavior:"smooth"}))})}),document.querySelectorAll(".copy-btn").forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".code-container"),n=t.querySelector("code").innerText;navigator.clipboard.writeText(n).then(()=>{let t=e.innerText;e.innerText="Tersalin! ✅",e.classList.add("copied"),setTimeout(()=>{e.innerText=t,e.classList.remove("copied")},2e3)})})}),document.addEventListener("contextmenu",e=>e.preventDefault()),document.onkeydown=function(e){if(123==e.keyCode||e.ctrlKey&&e.shiftKey&&(73==e.keyCode||74==e.keyCode||67==e.keyCode)||e.ctrlKey&&85==e.keyCode||e.ctrlKey&&83==e.keyCode)return!1},function(){let e=()=>{throw document.body.innerHTML=`
                <div style="height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; background:#000; color:#ff0000; font-family:sans-serif; text-align:center; padding:20px;">
                    <h1 style="font-size:3rem;">⚠️ SECURITY ALERT ⚠️</h1>
                    <p style="font-size:1.5rem;">Access Denied: Debugging Tools Detected.</p>
                    <p>Source code protection is active. Please close developer tools and reload the page.</p>
                    <button onclick="location.reload()" style="padding:10px 20px; background:#ff0000; color:#fff; border:none; border-radius:5px; cursor:pointer; margin-top:20px;">RELOAD PAGE</button>
                </div>
            `,Error("Security check failed")};setInterval(()=>{let t=performance.now(),n=performance.now();n-t>100&&e()},500),window.addEventListener("resize",()=>{(window.outerWidth-window.innerWidth>160||window.outerHeight-window.innerHeight>160)&&e()})}();let lastScrollTop=0,headerTimeout;const headerBar=document.querySelector(".header-bar");function handleHeaderVisibility(){let e=window.pageYOffset||document.documentElement.scrollTop;clearTimeout(headerTimeout),e>lastScrollTop&&e>70?headerBar.classList.add("nav-hidden"):(headerBar.classList.remove("nav-hidden"),e>100&&(headerTimeout=setTimeout(()=>{headerBar.classList.add("nav-hidden")},3e3))),lastScrollTop=e<=0?0:e}function updateScrollProgress(){let e=document.getElementById("progressWrap"),t=document.querySelector(".progress-wrap svg path"),n=document.getElementById("progressPercent");if(!t||!e)return;let o=t.getTotalLength();0===o&&(o=308),t.style.transition=t.style.WebkitTransition="none",t.style.strokeDasharray=o+" "+o,t.style.strokeDashoffset=o,t.getBoundingClientRect(),t.style.transition=t.style.WebkitTransition="stroke-dashoffset 10ms linear";let r=function(){let r=window.pageYOffset||document.documentElement.scrollTop,i=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(i>0){let l=o-r*o/i;t.style.strokeDashoffset=l,n.innerText=Math.min(100,Math.max(0,Math.round(r/i*100)))+"%",r>20?e.classList.add("active-progress"):e.classList.remove("active-progress")}else e.classList.remove("active-progress")};r(),window.addEventListener("scroll",r),e.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})}window.addEventListener("scroll",handleHeaderVisibility),"loading"===document.readyState?window.addEventListener("DOMContentLoaded",()=>{initScrollAnimations(),updateScrollProgress()}):(initScrollAnimations(),updateScrollProgress()),navLinks.forEach(e=>{e.addEventListener("click",()=>{setTimeout(()=>{initScrollAnimations(),updateScrollProgress()},100)})});
